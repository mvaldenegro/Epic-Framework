cmake_minimum_required (VERSION 2.6)

set(CMAKE_CXX_FLAGS "-Wall -g3 -pedantic -Wno-long-long -std=c++0x")

include_directories(source)

file(GLOB epicCoreSources "source/epic.core/*.cpp")
add_library(epic.core SHARED ${epicCoreSources})

file(GLOB epicCoreTests "source/epic.core/tests/*.cpp")
foreach(test ${epicCoreTests})
	get_filename_component(testName ${test} NAME_WE)
	message(${testName})
	add_executable(${testName} ${test})
	target_link_libraries(${testName} epic.core)		
endforeach()

file(GLOB epicImageSources "source/epic.image/*.cpp")
add_library(epic.image SHARED ${epicImageSources})

add_executable(imageTest source/epic.image/tests/imageTest.cpp)
target_link_libraries(imageTest epic.image)

file(GLOB epicOpenCLSources "source/epic.opencl/*.cpp")
add_library(epic.opencl SHARED ${epicOpenCLSources})

add_executable(openclTest source/epic.opencl/tests/openclTest.cpp)
target_link_libraries(openclTest epic.core epic.opencl OpenCL)

file(GLOB epicOpenGLSources "source/epic.opengl/*.cpp")
add_library(epic.opengl SHARED ${epicOpenGLSources})

add_executable(vector2Test test/epic.math/vector2Test.cpp)
add_executable(matrixTest source/epic.math/tests/matrixTests.cpp)

